<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Jardin Harmonie - Votre jardin entre de bonnes mains{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
</head>

<body>

{% block header %}
    <style>
        .admin-header .logo-icon {
            margin-left: 20px; /* Déplacer un peu vers la droite */
            cursor: pointer;
        }

        /* Forgot Password Interaction */
        .forgot-password {
            transition: color 0.3s ease, transform 0.1s ease;
            display: inline-block;
        }
        .forgot-password:hover {
            color: #d35400; /* Darker orange */
            text-decoration: underline;
        }
        .forgot-password:active {
            transform: scale(0.95); /* Click effect */
            color: #e67e22;
        }

        /* Error Styles */
        .error-message, .error {
            color: #dc3545; /* Red standard color */
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .global-error {
            color: #dc3545;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
    <!-- Header -->
    <header class="admin-header">
        <a href="{{ path('app_accueil') }}">
            <img src="{{ asset('images/logo.svg') }}" alt="Jardins Harmonie Logo" class="logo-icon">
        </a>
    </header>
{% endblock %}

{% block main %}

    <main class="admin-main">
        <h1>J’accède à mon compte</h1>

        <form action="{{ path('app_admin_verify') }}" method="post" class="login-form" id="login-form" novalidate>
            <!-- Error Container for JS validation -->
            <div id="js-error" class="global-error" style="display: none;"></div>

            {% if error %}
                <div class="global-error">
                    {% if error.messageKey == 'Invalid credentials.' %}
                        Email ou mot de passe incorrect.
                    {% else %}
                        {{ error.messageKey|trans(error.messageData, 'security') }}
                    {% endif %}
                </div>
            {% endif %}

            <div class="form-group">
                <label for="identifiant">Email</label>
                <div class="input-wrapper">
                    <input type="text" id="identifiant" name="_username" value="{{ last_username }}" placeholder="Entrez votre email*" required>
                </div>
            </div>

            <div class="form-group">
                <label for="password">Mot de passe</label>
                <div class="input-wrapper">
                    <input type="password" id="password" name="_password" placeholder="Entrez votre mot de passe *" required>
                </div>
                <div style="text-align: left; width: 100%;">
                    <a href="#" class="forgot-password">Mot de passe oublié ?</a>
                </div>
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <button type="submit" class="btn-submit">Me connecter</button>
        </form>






    </main>
{% endblock %}


{% block footer %}
    <footer class="admin-footer">
        <div class="footer-content">
            <div class="brand-section">
                <img src="{{ asset('images/logo.svg') }}" alt="Jardins Harmonie Logo" class="logo-icon">
                <p>Jardins Harmonie – Votre jardin entre de bonnes mains.</p>
            </div>

            <div class="links-section">
                <a href="{{ path('app_mentions_legales') }}">Mention légales</a>
                <a href="{{ path('app_politique_confidentialite') }}">Politiques de confidentialité</a>
                <a href="{{ path('app_plan_du_site') }}">Plan du site</a>
                <a href="{{ path('app_politique_cookies') }}">Cookies</a>
                <a href="{{ path('app_accueil') }}">Site Jardin Hamronie</a>
            </div>
        </div>

        <div class="footer-copyright">
            <p>&copy; Copyright 2025, All Rights Reserved by Jardin Harmonie</p>
        </div>
    </footer>
{% endblock %}
</body>
</html>
